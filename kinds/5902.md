---
layout: default
title: Nostr Subdomain File Hosting
description: Pay to host files at a subdomain for a specified period of time.
---

# Input

- Event ID of a kind `30563`, which contains the list of files that will be hosted.

```jsonc
{
  "kind": 5902,
  "tags": [
    ["i", "<event-id>", "event"],
    ["param", "subdomain", "example-subdomain"],
    ["param", "start", "1709070000"],
    ["param", "end", "1709075753"]
  ]
}
```

- Event coordinate that points to a `30563` event.

```jsonc
{
  "kind": 5902,
  "tags": [
    [
      "i",
      "naddr1qqr8yctwv3hk6q3qye5ptcxfyyxl5vjvdjar2ua3f0hynkjzpx552mu5snj3qmx5pzjsxpqqqpmkxhxrap0",
      "text"
    ],
    ["param", "subdomain", "example-subdomain"],
    ["param", "start", "1709070000"],
    ["param", "end", "1709075753"]
  ]
}
```

# Params

## `subdomain`

If provided, files will be hosted at `example-subdomain.domain.com`. Otherwise, it is up to the service provider to assign a subdomain.

```jsonc
["param", "subdomain", "mycoolsub"]
```

## `start`

If provided, files will be hosted since the specified timestamp and not before. Otherwise the hosting will start immediately. Service providers might enforce an upper limit for this parameter (eg. no more than 1 month into the future).

```jsonc
["param", "start", "1706830756"]
```

## `end`

If provided, the files will be hosted until the specified timestamp. Otherwise it is up to the service provider to provide a default `end` timestamp.

```jsonc
["param", "end", "1709075753"]
```

# Output

Service provider MUST send a kind `6902` when the hosting period ends.

```jsonc
{
  "kind": 6902,
  "content": "",
  "created_at": 1709075753
}
```

# Feedback

Service provider could send a kind `7000` feedback with payment required details.

```jsonc
{
  "kind": 7000,
  "content": "",
  "tags": [
    ["status", "payment-required"],
    ["amount", "<requested-amount>", "<bolt-11>"]
  ]
}
```

Service providers could send a status `partial` with other subdomain suggestions if the subdomain specified in the job input is not available. The `content` is set to a JSON encoded array of suggestions.

```jsonc
{
  "kind": 7000,
  "content": "[\"other-subdomain.domain.com\",\"other-example.domain.com\"]",
  "tags": [["status", "partial"]]
}
```

Service provider MUST send a kind `7000` feedback when the hosting period starts.

```jsonc
{
  "kind": 7000,
  "content": "",
  "tags": [
    ["status", "success"],
    ["subdomain", "example-subdomain"]
  ]
}
```
